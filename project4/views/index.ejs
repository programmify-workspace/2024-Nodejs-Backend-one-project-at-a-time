<!DOCTYPE html>
<html>
<head>
  <title>PDF Generator</title>
  <link rel="stylesheet" href="./style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <div class="container mt-5 mb-5">
    <h1 class="text-center">PDF Generator</h1>
    <form id="pdfForm" action="/generate-pdf" method="POST">
      <div class="form-group mb-4">
        <label class="mb-1" for="filename">Filename</label>
        <input type="text" class="form-control" id="filename" name="filename" placeholder=" ex: mypdf" pattern="^[^<>['%\"/?,.]{}()+&$=]+$" required>
        <small class="form-text text-white-custom error-message" id="error-message">Filename cannot contain the following characters: <code class="text-warning"><>['%"/?,.]{}()+&$=</code></small>
      </div>
      <div class="form-group mb-4">
        <label for="headerTitle">Header Title</label>
        <input type="text" class="form-control" id="headerTitle" name="headerTitle" placeholder="TITLE" required>
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="headerLogo">Header Logo URL</label>
        <input type="text" class="form-control" id="headerLogo" name="headerLogo" placeholder="https://example.com/notrealimage.jpg">
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="headerDate">Header Date</label>
        <input type="date" class="form-control" id="headerDate" name="headerDate">
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="authorName">Author Name</label>
        <input type="text" class="form-control" id="authorName" name="authorName" placeholder="ex: John Smith" required>
      </div>
      <div class="form-group mb-4">
        <label for="bodyContent">Body</label>
        <textarea class="form-control" id="bodyContent" name="bodyContent" rows="5" placeholder="Main Content" required></textarea>
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="footerText">Footer Text</label>
        <input type="text" class="form-control" id="footerText" name="footerText" required>
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="footerPageNumber">Show Page Numbers</label>
        <select class="form-control" id="footerPageNumber" name="footerPageNumber">
          <option value="yes">Yes</option>
          <option value="no" selected>No</option>
        </select>
      </div>
      <div class="form-group mb-4">
        <label class="mb-1" for="customStyles">Custom Styles (CSS)</label>
        <textarea class="form-control" id="customStyles" name="customStyles" rows="3" placeholder="ex: h1 {
          background: black;
          color: #fff; /* white */
       }"></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Generate PDF</button>
    </form>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    document.getElementById('pdfForm').addEventListener('submit', function(event) {
      var filenameInput = document.getElementById('filename');
      var errorMessage = document.getElementById('error-message');
      var pattern = /^[a-zA-Z0-9_]+$/;
      
      if (!pattern.test(filenameInput.value)) {
        errorMessage.style.background = '#f00';
        errorMessage.style.padding = '1%';
        errorMessage.style.width = '100%';
        event.preventDefault();  // Prevent form submission
      } else {
        errorMessage.style.display = 'none';
      }
    });
  </script>
</body>
</html>
